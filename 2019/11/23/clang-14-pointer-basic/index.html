
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>C 语言语法系列（14）：指针入门 | 向向的博客</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="向向">
    

    
    <meta name="description" content="这是最为头疼的 C 语言专题，比起之前的内容来说，指针确实较难理解一些。更别说使用了。不过，看一下讲解，应该会比较清楚一些它的基本用途。 指针的定义指针（Pointer），就像是一个桌面上的“快捷方式”。你打开程序为了不去每一个盘找到对应的应用程序然后打开，就建立了一个桌面快捷方式，这样统一管理这些东西，会比较轻松一些。 我们可以将指针理解为一个变量的快捷方式。为了统一管理数据，所以建立起了这些指">
<meta name="keywords" content="C">
<meta property="og:type" content="article">
<meta property="og:title" content="C 语言语法系列（14）：指针入门">
<meta property="og:url" content="https:&#x2F;&#x2F;sunnie-shine.github.io&#x2F;2019&#x2F;11&#x2F;23&#x2F;clang-14-pointer-basic&#x2F;index.html">
<meta property="og:site_name" content="向向的博客">
<meta property="og:description" content="这是最为头疼的 C 语言专题，比起之前的内容来说，指针确实较难理解一些。更别说使用了。不过，看一下讲解，应该会比较清楚一些它的基本用途。 指针的定义指针（Pointer），就像是一个桌面上的“快捷方式”。你打开程序为了不去每一个盘找到对应的应用程序然后打开，就建立了一个桌面快捷方式，这样统一管理这些东西，会比较轻松一些。 我们可以将指针理解为一个变量的快捷方式。为了统一管理数据，所以建立起了这些指">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-11-25T07:08:30.276Z">
<meta name="twitter:card" content="summary">

    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="向向的博客" title="向向的博客"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="向向的博客">向向的博客</a></h1>
				<h2 class="blog-motto">Console.WriteLine(&#34;Hello, ^_^&#34;);</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">主页</a></li>
					
						<li><a href="/archives">全部文档</a></li>
					
						<li><a href="/categories">分类</a></li>
					
						<li><a href="/tags">标签</a></li>
					
						<li><a href="/about">关于</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:Sunnie-Shine.github.io">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2019/11/23/clang-14-pointer-basic/" title="C 语言语法系列（14）：指针入门" itemprop="url">C 语言语法系列（14）：指针入门</a>
    
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="向向" target="_blank" itemprop="author">向向</a>
		
  <p class="article-time">
    <time datetime="2019-11-23T03:14:59.000Z" itemprop="datePublished"> 发表于 2019-11-23</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		
			<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#指针的定义"><span class="toc-number">1.</span> <span class="toc-text">指针的定义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#指针的赋值和使用"><span class="toc-number">2.</span> <span class="toc-text">指针的赋值和使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#指针的用途"><span class="toc-number">3.</span> <span class="toc-text">指针的用途</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#引用参数（ref-参数）"><span class="toc-number">3.1.</span> <span class="toc-text">引用参数（ref 参数）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#输出参数（out-参数）"><span class="toc-number">3.2.</span> <span class="toc-text">输出参数（out 参数）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#还有其它的用法吗？"><span class="toc-number">3.3.</span> <span class="toc-text">还有其它的用法吗？</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#参数修饰符"><span class="toc-number">4.</span> <span class="toc-text">参数修饰符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#const-修饰符"><span class="toc-number">4.1.</span> <span class="toc-text">const 修饰符</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#数值变量的修饰"><span class="toc-number">4.1.1.</span> <span class="toc-text">数值变量的修饰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#指针变量的修饰"><span class="toc-number">4.1.2.</span> <span class="toc-text">指针变量的修饰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#指针变量的全只读"><span class="toc-number">4.1.3.</span> <span class="toc-text">指针变量的全只读</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#const-的位置"><span class="toc-number">4.1.4.</span> <span class="toc-text">const 的位置</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#restrict-修饰符"><span class="toc-number">4.2.</span> <span class="toc-text">restrict 修饰符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#还有其它的吗？"><span class="toc-number">4.3.</span> <span class="toc-text">还有其它的吗？</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NULL-常量"><span class="toc-number">5.</span> <span class="toc-text">NULL 常量</span></a></li></ol>
		
		</div>
		
		<p>这是最为头疼的 C 语言专题，比起之前的内容来说，指针确实较难理解一些。更别说使用了。不过，看一下讲解，应该会比较清楚一些它的基本用途。</p>
<h2 id="指针的定义"><a href="#指针的定义" class="headerlink" title="指针的定义"></a>指针的定义</h2><p><strong>指针</strong>（Pointer），就像是一个桌面上的“快捷方式”。你打开程序为了不去每一个盘找到对应的应用程序然后打开，就建立了一个桌面快捷方式，这样统一管理这些东西，会比较轻松一些。</p>
<p>我们可以将指针理解为一个变量的快捷方式。为了统一管理数据，所以建立起了这些指针，来“间接”操控数据的数值。</p>
<p>我们使用这样的符号来声明一个指针：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> *pointer;</span><br><span class="line"><span class="keyword">int</span> *ptr;</span><br><span class="line"><span class="keyword">int</span> *p;</span><br></pre></td></tr></table></figure>
<p>它们的名字和普通的变量名字都是一样的规范：数字、字母、下划线（且首字符不可是数字）。当然了，因为指针英文名叫 pointer，所以取名为这三个写法，是指针最常见的取名。我们可以用星号 <code>*</code> 表示它是一个指针变量。注意哦，这个星号要写在变量名字的左边才奏效；写在变量的右侧则可能会被处理成乘法符号而报错。</p>
<p>另外，在 C 语言之中，星号是挨着变量名字的，当然你也可以写作</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> *p; <span class="comment">// Near-variable style.</span></span><br><span class="line"><span class="keyword">int</span> * p; <span class="comment">// Or middle style.</span></span><br><span class="line"><span class="keyword">int</span>* p; <span class="comment">// Or Near-type style.</span></span><br></pre></td></tr></table></figure>
<p>全部都可以，它们都和第一句 <code>int *p</code> 是一样的意思，不过有些时候为了方便理解代码呢，你可能需要借助后面两种思维来理解指针。现在来看看如何理解指针。</p>
<h2 id="指针的赋值和使用"><a href="#指针的赋值和使用" class="headerlink" title="指针的赋值和使用"></a>指针的赋值和使用</h2><p>我们使用这两个符号来使用指针：星号 <code>*</code> 和 and 符号 <code>&amp;</code>。注意了哈，这里又出现了星号，而这个星号和定义是指针变量的含义不同。</p>
<ul>
<li>星号 <code>*</code>（取值符）：取变量对应的数值；</li>
<li>and 符号 <code>&amp;</code>（取地址符）：取变量的地址。</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">25</span>;</span><br><span class="line"><span class="keyword">int</span> *p = &amp;a;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%x, %d"</span>, p, *p);</span><br></pre></td></tr></table></figure>
<p>来看下这三行代码。第一行是定义变量 <code>a</code>，并且 <code>a</code> 的存储空间上放了个数值是 25；第二行是说，定义一个指针变量，赋的值是 <code>a</code> 的地址（因为这里 <code>a</code> 前有一个取地址的符号，表示是取出了地址值）。</p>
<p>说成大白话，就是有一个快捷方式，取名叫 <code>p</code>，这个 <code>p</code> 它总归是一个变量，但怎么和 <code>a</code> 产生关联呢？就让 <code>p</code> 这个变量存的东西是 <code>a</code> 的地址，就 OK 了。换句话说，<code>p</code> 这个变量的存储空间上，它的数值并不是 <code>a</code> 的这个值 25，而是 <code>a</code> 变量的“位置”。</p>
<p>电脑的存储数据是用一系列十六进制数表示的，当然它也可以转为整数，不过因为系统为了和数字本身作区分，所以用十六进制表达，这样看起来不那么像是一个整数数值，来达到区分地址数值和普通数值的目的。每一个变量的存储位置，都是有一个对应的值的，比如这块内存区域下的第一号位、第二号位等等。只是它用十六进制表示了。然后每一个变量在声明时，都会生成一个空闲的内存区域，用来操作数据。这个时候，由于会产生空闲区域的关系，这个空闲区域同时也会对应一个“编号”，那么它就是地址了。上面的指针就是取出了地址值，然后 <code>p</code> 变量处存放的不是别的，就是这个地址的数值。</p>
<p>第三句话则是输出 <code>p</code> 变量存的值（<code>a</code> 的地址）和 <code>p</code> 上地址所对应的那个变量的值（也就是 <code>a</code> 的值），所以会输出一个十六进制数（具体是多少我也不知道，定义变量的时候，电脑随机分配的内存区域，所以根本不清楚到底是哪里，每一台电脑的数据有差异）和 25。那个 <code>%x</code> 就是输出一个十六进制数（详见之前写的“格式化字符串”）。</p>
<p>这样说，你可能就明白了指针了。它是一个快捷方式，是一个变量的快捷方式，它也是一个变量，不过变量存的值并不是数字，而是和它形成对应的变量的地址（可以理解成快捷方式本身其实也只是使用文件位置（路径）封装成文件的程序，它本身是一个空壳，本身没有用途，每次双击它，都是找到路径，然后打开对应的程序）。</p>
<p>所以，一定要记清楚使用指针的符号：取地址符号 <code>&amp;</code>、取值符号 <code>*</code> 和声明指针变量（还是用 <code>*</code> 符号）的三大用途。</p>
<p>那么，下面的写法都是对的（只要顺序执行语句的话），用两次星号表示是“二重指针”，即指针指向一个指针变量，指针变量再指向数值变量的存在。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span> *p = &amp;a;</span><br><span class="line"><span class="keyword">int</span> **q = &amp;p;</span><br><span class="line"></span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>, *p);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>, **q);</span><br><span class="line"></span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, p);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, *q);</span><br></pre></td></tr></table></figure>
<p>输入语句 <code>scanf</code> 用得非常少，在参数列表里，我们从字符串后开始写上字符串里所有格式化字符串的对应变量的序列，但需要赋值的是这些变量的所有地址，这是因为，<code>scanf</code> 要求函数给定一个地址数值，来找到变量获取元素信息，如果只有一个数字的话，就无法取得地址和数值的关联。</p>
<p>虽说这一点也可以被设计成只需要传入数值，然后直接放上去这样的模式，但 <code>scanf</code> 函数在最初的设计就用的是指针，所以需要取地址符号来操作。不过，如果本身变量就已经是一个指针变量了，这样就不需要加入地址符号，否则就会变为画蛇添足的效果。<code>&amp;a</code> 表示获取 <code>a</code> 变量的地址，那么 <code>&amp;p</code> 表示获取 <code>p</code> 指针变量它自己的地址，这是没有意义的。而针对于二级指针的话，我们肯定需要获取的是它指向的变量 <code>p</code> 存储的值（<code>a</code> 的地址数值），来找到 <code>a</code> 的位置，所以需要写上的是 <code>*q</code>，来取指向的变量 <code>p</code> 的存的内容。</p>
<p>这一点有点绕，请你反复理解这段内容。</p>
<h2 id="指针的用途"><a href="#指针的用途" class="headerlink" title="指针的用途"></a>指针的用途</h2><p>那么，这样复杂和难过的东西有什么用呢？</p>
<h3 id="引用参数（ref-参数）"><a href="#引用参数（ref-参数）" class="headerlink" title="引用参数（ref 参数）"></a>引用参数（ref 参数）</h3><p>还记得之前说到的函数的销毁吗？</p>
<p>当我们交换变量时，因为在调用了变量交换，虽然值确实被交换了，但函数会被销毁的缘故，最终的变量依然没有发生任何变化：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> temp = a;</span><br><span class="line">    a = b;</span><br><span class="line">    b = t;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">1</span>, j = <span class="number">5</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"i = %d, j = %d\n"</span>, i, j);</span><br><span class="line">    swap(i, j);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"i = %d, j = %d\n"</span>, i, j); <span class="comment">// Also same as line 11.</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这个时候我们使用指针，来改变地址，就改变了数值。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> *a, <span class="keyword">int</span> *b)</span> <span class="comment">// Note here.</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> temp = *a;</span><br><span class="line">    *a = *b;</span><br><span class="line">    *b = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">1</span>, j = <span class="number">5</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"i = %d, j = %d\n"</span>, i, j);</span><br><span class="line">    swap(&amp;i, &amp;j); <span class="comment">// Pass by address.</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"i = %d, j = %d\n"</span>, i, j); <span class="comment">// Swapping successfully.</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果写作指针，那么函数此时传入的就不是简单的数值了，而是一个地址数值。</p>
<p>当我们尝试把 <code>i</code> 和 <code>j</code> 变量传递到 <code>swap</code> 里的时候，它此时并不是传递进去了 1 和 5 两个数，而是这两个变量自己的地址数值。</p>
<p>然后进入 <code>swap</code> 函数开始交换。首先我们把 <code>a</code> 这个指针变量的指向变量数值取出，因为 <code>a</code> 传入进来的是 <code>i</code> 变量的地址，所以此时 <code>a</code> 和 <code>&amp;i</code> 可以说是等价的，所以取出 <code>i</code> 变量地址，然后取出这个地址上的数据，所以就得到了 <code>main</code> 函数里那个 <code>i</code> 变量的数值 1 了；然后把这个 1 赋值到 <code>temp</code> 里。</p>
<p>然后把 <code>b</code> 变量指向的变量数值取出，然后赋值到 <code>a</code> 变量指向的内存区域上。左值 <code>*a</code> 可能现在还不好理解。你可以认为，把取内容符号 <code>*</code> 放在等号左侧的变量上，指代这个变量指向的那块内存（变量），然后尝试把右侧的数值放入到这个内存（变量）里去。</p>
<p>然后最后一步就是把 <code>temp</code> 取出来，放入 <code>b</code> 指向的那块内存。由于过程里 <code>a</code> 和 <code>b</code> 分别指向的是 <code>main</code> 里的 <code>i</code> 和 <code>j</code>，所以 <code>swap</code> 函数整体执行完毕后，销毁的也是 <code>a</code> 和 <code>b</code> 这两个指针变量，即它们的指向是被销毁了，但指向销毁肯定是不影响到原本数据 <code>i</code> 和 <code>j</code> 的，所以交换就起效了。</p>
<p>我们借用这个示例为大家解释了如何使用指针传参的模式来同步在两个函数之间操作的过程，这种操作可以影响到另外一个函数里的变量数值，我们称此时 <code>swap</code> 里的指针变量（<code>a</code> 和 <code>b</code>）为<strong>引用参数</strong>（有时候也叫 <strong>ref 参数</strong>，ref 是 reference 的缩写），这种参数跨 <code>swap</code> 和 <code>main</code> 两个函数在使用相同的变量。</p>
<blockquote>
<p>引用是高级编程语言里的一种说法，它指代的是两个指针变量同时指向相同的内存区域，所以可以认为两个指针调用同一个变量的写法格式除了变量名不同外，其它都一样，所以称为引用一致。比如</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> *p, *q;</span><br><span class="line"><span class="keyword">int</span> a = <span class="number">12</span>;</span><br><span class="line">p = &amp;a;</span><br><span class="line">q = &amp;a;</span><br></pre></td></tr></table></figure>
<p>例如上述写法里，<code>p</code> 和 <code>q</code> 都指向了 <code>a</code> 变量。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> result = *p;</span><br></pre></td></tr></table></figure>
<p>和</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> result = *q;</span><br></pre></td></tr></table></figure>
<p>使用的是完全一样的书写格式（<code>变量 = *指针</code>），而且指向同一块内存区域（同一个变量），所以我们认为 <code>p</code> 和 <code>q</code> 具有一致的引用。</p>
<p>而在上面 ref 参数里，我们使用的正是引用不变这一个点，来从 <code>swap</code> 里修改到 <code>main</code> 里的信息，因为此时 <code>swap</code> 的参数（指针变量）的引用是和 <code>main</code> 函数调用 <code>swap</code> 函数时传入的参数是一样的：<code>&amp;i</code> 和 <code>&amp;j</code> 表示两个地址数值，而在 <code>swap</code> 的参数里，本应该获取的是两个指针变量，但这里传入的地址数值可以用来表示一个指针变量的信息。这就叫引用。</p>
<p>不过，C 语言没有引用一说，是因为引用并不是像上面说得这么简单，由于原理的实现，它更类似于为变量取别名，显然 <code>p</code> 和 <code>i</code> 不是别名关系，它们差了一个地址符号。你不用理解这么详细，你大概知道，引用是啥样的就可以了。</p>
</blockquote>
<h3 id="输出参数（out-参数）"><a href="#输出参数（out-参数）" class="headerlink" title="输出参数（out 参数）"></a>输出参数（out 参数）</h3><p>再来考虑一个问题。我们如果要让返回值返回多个数值信息怎么办？函数是只可能返回一个数值的，这是数学规定的，因为一个函数（不考虑多值函数这个广义理解下）是不允许有多个返回值的。C 语言沿用了这一点，所以从函数返回值角度出发，受到语义制约，C 语言是不允许返回多个返回值的。</p>
<p>那么，如果我们从参数返回呢？这是个好办法，可是从参数返回，在函数销毁的时候，变量不就跟着没有了么？是的，所以我们需要指针来搞定。</p>
<p>考虑如下操作。我们尝试对一个学生计算数学、英语、C 语言三个科目的成绩的平均数值，并要求同时返回是否平均成绩及格（一个布尔型 <code>bool</code> 数值或用一个 <code>int</code> 表示）和三个科目的平均分。</p>
<p>这个题目难点在于需要同时返回是不是及格和平均分两个数据。我们可以这么书写代码：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">IsPassOfAverage</span><span class="params">(<span class="keyword">int</span> math, <span class="keyword">int</span> english, <span class="keyword">int</span> clang, <span class="keyword">float</span> *avg)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    *avg = (math + english + clang) / (<span class="keyword">float</span>)<span class="number">3</span>;</span><br><span class="line">    <span class="keyword">return</span> avg &gt;= <span class="number">60</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> math = <span class="number">69</span>, english = <span class="number">77</span>, clang = <span class="number">50</span>;</span><br><span class="line">    <span class="keyword">float</span> avgResult; <span class="comment">// Do not need to assign this variable.</span></span><br><span class="line">    <span class="keyword">if</span> (IsPassOfAverage(math, english, clang, &amp;avgResult)) <span class="comment">// Note here.</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"He pass the exam!!\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Unfortunately, he failed to pass...\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Average is %f\n"</span>, avgResult);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>我们在 <code>IsPassOfAverage</code> 函数里的唯一一个指针变量 <code>avg</code> 赋上了平均结果，然后返回了 <code>avg</code> 是否超过 60 分这个比较结果，而由于是一个指针的方式，在执行完整个 <code>IsPassOfAverage</code> 函数后，<code>avg</code> 会销毁，但它是指针变量的关系，它指向被销毁，但指向的那个变量并不会被销毁。然后，执行完毕前，计算结果就已经得到了。所以输出结果信息都是全部成立的。</p>
<p>这样我们就模拟出了返回多个结果的要求。我们称这里 <code>avg</code> 变量仅用于输出用，所以称为<strong>输出参数</strong>（有时候也称为 <strong>out 参数</strong>）。但别忘了，在计算平均数的时候要为 <code>avg</code>（赋值语句的左值）添加取内容符号。</p>
<h3 id="还有其它的用法吗？"><a href="#还有其它的用法吗？" class="headerlink" title="还有其它的用法吗？"></a>还有其它的用法吗？</h3><p>实际上，指针并不只有这些用法，还有很多用法。不过今天作为入门指针的讲解，我不打算放在这里说，下一部分内容我们将会详细分析和研究指针的运算符，以及它和数组的关系。</p>
<h2 id="参数修饰符"><a href="#参数修饰符" class="headerlink" title="参数修饰符"></a>参数修饰符</h2><p>在函数传递参数的过程中，我们可以使用很多修饰符（一部分关键字）来告诉编译器很多信息，丰富我们的使用。</p>
<h3 id="const-修饰符"><a href="#const-修饰符" class="headerlink" title="const 修饰符"></a><code>const</code> 修饰符</h3><p>最难用的要数这个关键字了。这个关键字放置到参数上，可以让每一个参数的信息只用来读取，而执行期间不允许修改这个变量的数据。</p>
<h4 id="数值变量的修饰"><a href="#数值变量的修饰" class="headerlink" title="数值变量的修饰"></a>数值变量的修饰</h4><p>考虑如下操作。如果我们尝试把上面计算平均成绩的代码稍加改动。可以看到三个成绩信息是没有必要去改动的，我们为了语法约定，可以增加 <code>const</code> 修饰符来保证这些数值可以通过不被修改的方式完成执行逻辑。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">IsPassOfAverage</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> math, <span class="keyword">const</span> <span class="keyword">int</span> english, <span class="keyword">const</span> <span class="keyword">int</span> clang, <span class="keyword">float</span> *avg)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    *avg = (math + english + clang) / (<span class="keyword">float</span>)<span class="number">3</span>;</span><br><span class="line">    <span class="keyword">return</span> avg &gt;= <span class="number">60</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这样我们就无法在代码里修改这些变量了。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">IsPassOfAverage</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> math, <span class="keyword">const</span> <span class="keyword">int</span> english, <span class="keyword">const</span> <span class="keyword">int</span> clang, <span class="keyword">float</span> *avg)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    math += <span class="number">3</span>; <span class="comment">// Wrong.</span></span><br><span class="line">    clang = math - english; <span class="comment">// Also wrong.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="指针变量的修饰"><a href="#指针变量的修饰" class="headerlink" title="指针变量的修饰"></a>指针变量的修饰</h4><p>当然，这样的操作也可以修饰指针变量。如果一个传入的指针的数值（即地址）不用修改，可以尝试为变量修饰 <code>const</code>。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> *a, <span class="keyword">const</span> <span class="keyword">int</span> *b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> temp = *a;</span><br><span class="line">    *a = *b;</span><br><span class="line">    *b = temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这样就可以保证，我们传入的指针变量的地址信息不被修改。</p>
<h4 id="指针变量的全只读"><a href="#指针变量的全只读" class="headerlink" title="指针变量的全只读"></a>指针变量的全只读</h4><p><code>const</code> 是很灵活的关键字。可以看到，指针是暗含地址信息和指向变量的信息两个内容的。如果我们修饰的是变量本身，那么这个变量本身的内容就不可以被修改。针对于数值变量而言就是它自己的数值不能修改，而针对于指针变量就是它存入的地址不可以被修改（即指向不能变）。但此时，指向的变量的内容是可能变化的。</p>
<p>如果我们甚至想要保证指向的变量的内容也不可以改变，那么还需要在指针符号 <code>*</code> 和变量名之间插入 <code>const</code> 关键字来保证。当然，这一点不好举例，这里简单考虑如下写法。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Function</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> *<span class="keyword">const</span> variable)</span> <span class="comment">// Note here.</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a = <span class="number">2</span>;</span><br><span class="line">    variable = &amp;a; <span class="comment">// Wrong.</span></span><br><span class="line">    *variable = <span class="number">12</span>; <span class="comment">// Also wrong.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这样就可以保证指针指向不变，且指向的内容也不可以更改，进而保证了安全性。</p>
<h4 id="const-的位置"><a href="#const-的位置" class="headerlink" title="const 的位置"></a><code>const</code> 的位置</h4><p>可以看到，这个修饰符放在很多地方都可以，所以考虑如下四种写法：</p>
<ul>
<li><code>const int *p</code></li>
<li><code>int const *p</code></li>
<li><code>int *const p</code></li>
<li><code>const int *const p</code> </li>
</ul>
<p>这四种写法都是合理和允许的。不过，前面两种是等价的，因为它们都没有放在定义符号后，所以只能保证指向不变（自身存储的数值，即地址信息不变）。而第三种只能保证内容不可以被修改，但指向是可以修改的（这一点不好理解，但被允许，请尽量少这么用它）。第四种则是都不可以变。</p>
<h3 id="restrict-修饰符"><a href="#restrict-修饰符" class="headerlink" title="restrict 修饰符"></a><code>restrict</code> 修饰符</h3><p>在前文我哦们提到了引用参数，这种参数利用了“引用一致”的说法，来达到影响原数据的效果。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">int</span> *p = &amp;a;</span><br><span class="line"><span class="keyword">int</span> *q = &amp;a;</span><br></pre></td></tr></table></figure>
<p>这样书写代码完全没有错误，但会引入一个非常隐蔽的 bug。如果我们操作了 <code>a</code>，篡改了数据后，<code>p</code> 和 <code>q</code> 虽然指向不变，但最终 <code>a</code> 的数值发生变化后，<code>p</code> 和 <code>q</code> 指向的变量数值就肯定是同步变化了。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Function</span><span class="params">(<span class="keyword">int</span> *a, <span class="keyword">int</span> *b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    *a = <span class="number">5</span>;</span><br><span class="line">    *b = <span class="number">6</span>;</span><br><span class="line">    <span class="keyword">return</span> *a + *b; <span class="comment">// Not 11.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>由于执行到 <code>*b = 6</code> 的时候，它们操作的可能是同一个内存（同一个指向的变量），所以返回值还真不一定是预期的 11（可能因为 <code>a</code> 和 <code>b</code> 指向同一个变量而导致结果是 12）。</p>
<p>但，如果我们预期就可以认为和保证，这两个变量不应是同一个指向的话，我们就为指针和变量名中间添加 <code>restrict</code> 修饰符，来保证它们肯定不能指向同一个变量：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Function</span><span class="params">(<span class="keyword">int</span> *<span class="keyword">restrict</span> a, <span class="keyword">int</span> *<span class="keyword">restrict</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    *a = <span class="number">5</span>;</span><br><span class="line">    *b = <span class="number">6</span>;</span><br><span class="line">    <span class="keyword">return</span> *a + *b; <span class="comment">// 11.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>而在编译器层面，在执行程序之前，它就可以通过指向不同这一个隐藏的信息来优化代码。所以执行期间就会发现，结果一定就是 11 了，而且是编译器优化后直接得到的结果，而不会出现问题。</p>
<p>总之，<code>restrict</code> 关键字修饰在变量名和指针定义符号 <code>*</code> 之间，可以表示这些指针指向的变量一定不同，进而可以把一些执行语句按照规范调整执行顺序，来达到减少执行步骤，以优化的目的。</p>
<blockquote>
<p>这个关键字在 C99 标准后才可以用。</p>
</blockquote>
<h3 id="还有其它的吗？"><a href="#还有其它的吗？" class="headerlink" title="还有其它的吗？"></a>还有其它的吗？</h3><p>其实，还有 <code>static</code> 等等修饰符，但这里不作阐述，因为它们都超纲了。</p>
<h2 id="NULL-常量"><a href="#NULL-常量" class="headerlink" title="NULL 常量"></a><code>NULL</code> 常量</h2><p>在 C 语言里甚至为我们规定了指针的默认值。之前学到的很多数据类型都具有自己的默认数值，比如 <code>int</code> 的默认数值是 0，而 <code>bool</code> 类型的默认数值是 <code>false</code>，字符的默认数值是 <code>\0</code>（讲解字符和指针一节的时候会说明这一点）。指针也具有默认数值。不过，因为指针都是一个地址信息，所以不论指针的指向元素类型，它们统一都有一个默认数值是 <code>NULL</code>。注意，这个默认数值是全部字母都大写的，而且它的意义是指向 0 号内存的地址数值。好比是把数值进行“数值变指针的强制转换”。</p>
<p>而具体如何使用它，我们将在内存分配里才会讲到。</p>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/C/">C</a>►<a class="article-category-link" href="/categories/C/C-%E8%AF%AD%E6%B3%95/">C.语法</a>►<a class="article-category-link" href="/categories/C/C-%E8%AF%AD%E6%B3%95/C-%E8%AF%AD%E6%B3%95-%E6%95%99%E7%A8%8B/">C.语法.教程</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/C/">C</a>
  </div>

</div>



	<div class="article-share" id="share">
	
	  <div data-url="https://sunnie-shine.github.io/2019/11/23/clang-14-pointer-basic/" data-title="C 语言语法系列（14）：指针入门 | 向向的博客" data-tsina="" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2019/11/23/clang-15-pointer-and-array/" title="C 语言语法系列（15）：指针和数组">
  <strong>上一篇：</strong><br/>
  <span>
  C 语言语法系列（15）：指针和数组</span>
</a>
</div>


<div class="next">
<a href="/2019/11/23/clang-13-function/"  title="C 语言语法系列（13）：函数">
 <strong>下一篇：</strong><br/> 
 <span>C 语言语法系列（13）：函数
</span>
</a>
</div>

</nav>

	






  
  <h1 id="vheader">评论区 (~￣▽￣)~</h1>
  <div class="comment" id="vcomment"></div>
  <style>
    #vheader {
      padding: 5.44px 21.813px;
      border: 0 0 0 5px;
    }
    #readingspan {
      margin-left: 30px;
    }
    #vcomment {
      width: 95%;
      margin-left: auto;
      margin-right: auto;
    }
    input::-webkit-input-placeholder, textarea::-webkit-input-placeholder {
      color: #2bcdd8;
    }
    .v .vnick {
      color: #555 !important;
    }
    .v .vat{
      color: #555 !important;
    }
    .v .vwrap {
      background-color: #eee;
      border-radius: 15px;
    }
    .v .info {
      width: 100%;
      margin: 0;
    }
  </style>
  <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="./dist/Valine.min.js"></script>
  <script>
    var localeName = 'en', localeMode = {
      head:{
        nick:'[你的昵称 (随便写 ^_^)]',
        mail:'[邮件地址 (可以不写)]',
        link:'[你的主页 (可以不写)]',
      },
      tips:{
        comments:'评论',
        sofa:'还没评论',
        busy:'提交君卡了，稍等下……',
        again:'呃，貌似内部出错了，请稍后试一下……',
        limit:'最多可以输入 %d 个字'
      },
      ctrl:{
        reply:'回复',
        ok:'OK',
        sure:'好嘞',
        cancel:'取消',
        confirm:'确认',
        continue:'继续',
        more:'载入更多回复...',
        try:'请你再试一下',
        preview: '预览',
        emoji: 'Emoji 表情'
      },
      error:{
        99:'初始化失败，请检查初始化方法里的 `el` 元素。',
        100:'初始化失败，请检查你的 `app_id` 和 `app_key` 值。',
        401:'未经授权操作，请检查你的 `app_id` 和 `app_key` 值。',
        403:'访问 API 时被拒绝。请检查你的安全设置项，并将其允许到白名单里。',
      },
      timeago:{
        seconds:'秒以前',
        minutes:'分钟以前',
        hours:'小时以前',
        days:'天以前',
        now:'就在刚才'
      }
    };
    
    var valine = new Valine();
    valine.installLocale(localeName, localeMode);
    valine.init({
      av: AV,
      el: '.comment',
      app_id: 'dlNjgbBHGiNHYQ3NoR4cziTb-gzGzoHsz',
      app_key: 'B2b55wI7IvjoNCf8FTi9vgtr',
      placeholder: '[畅所欲言哦！QwQ]',
      visitor: true,
      lang: localeName
    });

    // Elder configuration...
    //new Valine({
    //  av: AV,
    //  el: '.comment',
    //  app_id: 'dlNjgbBHGiNHYQ3NoR4cziTb-gzGzoHsz',
    //  app_key: 'B2b55wI7IvjoNCf8FTi9vgtr',
    //  placeholder: '[畅所欲言哦！QwQ]',
    //  visitor: true
    //});
  </script>




</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
 
 <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#指针的定义"><span class="toc-number">1.</span> <span class="toc-text">指针的定义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#指针的赋值和使用"><span class="toc-number">2.</span> <span class="toc-text">指针的赋值和使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#指针的用途"><span class="toc-number">3.</span> <span class="toc-text">指针的用途</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#引用参数（ref-参数）"><span class="toc-number">3.1.</span> <span class="toc-text">引用参数（ref 参数）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#输出参数（out-参数）"><span class="toc-number">3.2.</span> <span class="toc-text">输出参数（out 参数）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#还有其它的用法吗？"><span class="toc-number">3.3.</span> <span class="toc-text">还有其它的用法吗？</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#参数修饰符"><span class="toc-number">4.</span> <span class="toc-text">参数修饰符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#const-修饰符"><span class="toc-number">4.1.</span> <span class="toc-text">const 修饰符</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#数值变量的修饰"><span class="toc-number">4.1.1.</span> <span class="toc-text">数值变量的修饰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#指针变量的修饰"><span class="toc-number">4.1.2.</span> <span class="toc-text">指针变量的修饰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#指针变量的全只读"><span class="toc-number">4.1.3.</span> <span class="toc-text">指针变量的全只读</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#const-的位置"><span class="toc-number">4.1.4.</span> <span class="toc-text">const 的位置</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#restrict-修饰符"><span class="toc-number">4.2.</span> <span class="toc-text">restrict 修饰符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#还有其它的吗？"><span class="toc-number">4.3.</span> <span class="toc-text">还有其它的吗？</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NULL-常量"><span class="toc-number">5.</span> <span class="toc-text">NULL 常量</span></a></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="github-card">
<p class="asidetitle">Github 名片</p>
<div class="github-card" data-github="Sunnie-Shine" data-theme="medium"></div>
<script type="text/javascript" src="//cdn.jsdelivr.net/github-cards/latest/widget.js" ></script>
</div>



  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/C♯/" title="C♯">C♯<sup>27</sup></a></li>
			
		
			
				<li><a href="/tags/C/" title="C">C<sup>24</sup></a></li>
			
		
			
				<li><a href="/tags/LINQ/" title="LINQ">LINQ<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/位运算/" title="位运算">位运算<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/C♯-编译器生成/" title="C♯.编译器生成">C♯.编译器生成<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/数学/" title="数学">数学<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/SQL/" title="SQL">SQL<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/C♯-8/" title="C♯ 8">C♯ 8<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/数独/" title="数独">数独<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/正则表达式/" title="正则表达式">正则表达式<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/Hexo/" title="Hexo">Hexo<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/Java/" title="Java">Java<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/安卓/" title="安卓">安卓<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/ASP/" title="ASP">ASP<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/诗词/" title="诗词">诗词<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/C♯-3/" title="C♯ 3">C♯ 3<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/C♯-6/" title="C♯ 6">C♯ 6<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/C♯-2/" title="C♯ 2">C♯ 2<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/并发/" title="并发">并发<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/C♯-7/" title="C♯ 7">C♯ 7<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="https://sunniesudoku.cn/" target="_blank" title="向向的数独文档库">向向的数独文档库</a>
            
          </li>
        
          <li>
            
            	<a href="http://tieba.baidu.com/f?kw=%CA%FD%B6%C0" target="_blank" title="数独贴吧">数独贴吧</a>
            
          </li>
        
          <li>
            
            	<a href="https://space.bilibili.com/23736703" target="_blank" title="Bilibili">Bilibili</a>
            
          </li>
        
    </ul>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello, I&#39;m Sunnie. <br/>
			This is my blog.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		<a href="https://github.com/Sunnie-Shine" target="_blank" class="icon-github" title="github"></a>
		
		
		
		
		
		
		
		<a href="http://www.zhihu.com/people/Sunnie-Shine" target="_blank" class="icon-zhihu" title="知乎"></a>
		
		
		
	</div>
			
		

		<p class="copyright">
		Copyright © 2019 
		
		<a href="/about" target="_blank" title="向向">向向</a>
		
		<br />
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a>
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});   
</script>











<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->





<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
  });
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript"
  async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
</script>


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
